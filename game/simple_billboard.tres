[gd_resource type="ShaderMaterial" load_steps=3 format=2]

[ext_resource path="res://tree-billboard.png" type="Texture" id=1]

[sub_resource type="Shader" id=1]
resource_local_to_scene = true
code = "shader_type spatial;
render_mode unshaded, cull_disabled;

uniform sampler2D image;
uniform float trans;

// https://github.com/godotengine/godot/issues/25142 GLES3 requires manual color change
vec3 adjust_rgb(vec3 color){
	return mix(pow((color + vec3(0.055)) * (1.0 / (1.0 + 0.055)),vec3(2.4)),color * (1.0 / 12.92),lessThan(color,vec3(0.04045)));
}

void fragment()
{
	vec4 original_color = texture(image, UV);
	ALBEDO = adjust_rgb(original_color.xyz);
	ALPHA = original_color.w * trans;
}"

[resource]
resource_local_to_scene = true
shader = SubResource( 1 )
shader_param/trans = 0.1
shader_param/image = ExtResource( 1 )
